# Dawson Botsford zshrc https://github.com/dawsonbotsford/dotfiles

DROPBOX_PATH=$HOME/dropbox

# Load z https://github.com/rupa/z
# eval "$(fasd --init auto)"
. $DROPBOX_PATH/dotfiles/scripts/z.sh

# Use this to lazy load bigger deps (like nvm)
# lazy_source () {
#   eval "$1 () { [ -f $2 ] && source $2 && $1 \$@ }"
# }

# NVM_SOURCE=$HOME/.nvm/nvm.sh
# lazy_source nvm $NVM_SOURCE

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && . "$NVM_DIR/nvm.sh" # This loads nvm

# Increase history size
export HISTFILE=~/.zsh_history
export HISTSIZE=10000
export SAVEHIST=10000

eval "$(rbenv init - --no-rehash)"

# Go
export GOPATH=$HOME/golang
# export GOROOT=$GOPATH

# Extend path
export PATH="$PATH:$HOME/cli"
export PATH=$HOME/.nvm/versions/node/v6.9.4/bin:$PATH
export PATH="$PATH:$GOPATH/bin"
export PATH="$PATH:$(yarn global bin)"
export PATH="$HOME/.yarn/bin:$PATH"

export LANG=en_US.UTF-8

# backwards search
# bindkey "^R" history-incremental-search-backward

# Yank directly to clipboard OSX
clipboard=unnamed

########## ALIASES ###########
alias sz='source ~/.zshrc'
alias vz='$EDITOR ~/.zshrc'
alias vv='$EDITOR ~/.vimrc'

# daemon watching
alias na="nodemon --exec 'ava'"
alias nx="nodemon --exec 'xo'"
alias nt="nodemon --exec 'npm test'"
alias pydemon="nodemon --exec 'python' "

# youtube-dl mp3 alias
alias youtube-dl-mp3="youtube-dl --extract-audio --audio-format mp3 "

# oh my zsh
export ZSH=$HOME/.oh-my-zsh
export ZSH_THEME="agnoster"
plugins=(git)

# autosuggestions
plugins=(zsh-autosuggestions)

source $ZSH/oh-my-zsh.sh

ZSHRCS_HOME="$DROPBOX_PATH/dotfiles/zshrcs"
source "$ZSHRCS_HOME/arcAliases.sh"
source "$ZSHRCS_HOME/gitAliases.sh"
source "$ZSHRCS_HOME/npmAliases.sh"
source "$ZSHRCS_HOME/utilities.sh"
source "$ZSHRCS_HOME/bindkey.sh"

export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=3'

# alias vim='/usr/local/Cellar/vim/8.0.0512/bin/vim'
export EDITOR=nvim
export VISUAL="$EDITOR"
alias vim="$EDITOR"
alias v="$EDITOR"

UBER_PRIVATE_RC="$HOME/uberPrivaterc.sh"
if [ -f $UBER_PRIVATE_RC ]
then
  source $UBER_PRIVATE_RC
fi

source $(pluc-cli --destinationPath)
function pluc() {
  pluc-cli "$@"
  source "$(pluc-cli --destinationPath)"
}

# KEEP AT END OF FILE
#Removes username from prompt status line
prompt_context(){}

# added by travis gem
[ -f /Users/dawsonbotsford/.travis/travis.sh ] && source /Users/dawsonbotsford/.travis/travis.sh

# tabtab source for electron-forge package
# uninstall by removing these lines or running `tabtab uninstall electron-forge`
[[ -f /usr/local/lib/node_modules/electron-forge/node_modules/tabtab/.completions/electron-forge.zsh ]] && . /usr/local/lib/node_modules/electron-forge/node_modules/tabtab/.completions/electron-forge.zsh
